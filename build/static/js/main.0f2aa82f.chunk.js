(this["webpackJsonp5tg_desktop-app_inventory-manager"]=this["webpackJsonp5tg_desktop-app_inventory-manager"]||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/qrcode.75f40b32.jpeg"},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},149:function(e,t,a){e.exports=a(191)},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},188:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(16),c=a.n(r),i=(a(154),a(26)),s=a(25),o=(a(155),a(61),a(64)),m=a(244),d=a(230),u=a(231),E=(a(103),a(249)),h=a(247),p=a(229),y=a(248);a(156);var v=function(e){return n.a.createElement("div",{className:"container-fluid  main-navbar"},n.a.createElement("div",null,n.a.createElement(h.a,{className:"mb-2"},n.a.createElement(h.a.Body,{className:"p-2 profile-body"},n.a.createElement(E.a,{className:"profile"},e.user.slice(0,1).toUpperCase()),n.a.createElement(p.a,{variant:"warning",className:"mt-2",style:{textTransform:"capitalize"}},e.user))),n.a.createElement(h.a,{border:"primary",className:"mb-2"},n.a.createElement(h.a.Body,{className:"m-0 p-1"},n.a.createElement("h6",null,"Menu"),n.a.createElement(i.c,{to:"/mainDashboard"},n.a.createElement(y.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"Order Manager")),n.a.createElement(i.c,{to:"/productManager"},n.a.createElement(y.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"Product Manager")),n.a.createElement(i.c,{to:"/partyManager"},n.a.createElement(y.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"Party Manager")),n.a.createElement(i.c,{to:"/expenseManager"},n.a.createElement(y.a,{variant:"primary",size:"sm",block:!0,className:"mb-2"},"Expense Manager")),n.a.createElement(i.c,{to:"/workerManager"},n.a.createElement(y.a,{variant:"primary",size:"sm",block:!0,className:"mb-2",hidden:!0},"Worker Manager")))),n.a.createElement(h.a,{className:"m-0 p-1"},n.a.createElement(h.a.Body,{className:"m-0 p-1"},n.a.createElement(i.c,{to:"/mainDashboard"},n.a.createElement(y.a,{variant:"primary",size:"sm",block:!0,className:"mb-2",hidden:!0},"settings"))))),n.a.createElement(d.a,null,n.a.createElement(u.a,{xs:6,className:"mx-auto"},n.a.createElement(y.a,{variant:"dark btn-block",size:"sm",className:"mb-2",onClick:function(){e.logout()}},"Logout"))))},f=a(19),b=a(20),g=a(22),N=a(21),S=(a(81),a(42),a(232)),T=a(250),P=a(235),D=a(252),x=a(243),C=a(253),w=a(237),M=a(238),I=a(111),O=a(246),k=a(239),A=a(242),B=a(8),L=a(9),U=a(7),z="http://localhost:5000/executeQuery/",j=a(51),R=a.n(j);window.JSZip=R.a;var H=a(12);H.DataTable=a(29),a(47),a(82),a(83),a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91);var q=a(37),V=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).handleTabs=function(e,t){l.setState({value:t})},l.renderPartiesData=function(){var e=l.state.partiesData;return null==e?null:e.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",{align:"center"},n.a.createElement(p.a,{variant:"primary"},e.id)," "),n.a.createElement("td",{align:"center"},e.name),n.a.createElement("td",{align:"center"},e.mobile),n.a.createElement("td",{align:"center"},e.address),n.a.createElement("td",{align:"center"},null==e.balance?0:e.balance),n.a.createElement("td",{align:"center"},n.a.createElement(S.a,{color:"primary",variant:"contained",onClick:function(t){l.setState({activePartyId:e.id,activePartyName:e.name,activePartyMobile:e.mobile,activePartyAddress:e.address,activePartyType:e.type,showUpdateModal:!0})}},n.a.createElement(B.a,{icon:L.d})),n.a.createElement(i.c,{to:"ledgerManager/".concat(e.id)},n.a.createElement(S.a,{className:"mx-1",color:"primary",variant:"contained",onClick:function(e){}},n.a.createElement(B.a,{icon:L.a}))),n.a.createElement(S.a,{className:"mx-1",color:"danger",variant:"contained",onClick:function(t){window.confirm("Delete the item?")&&l.deleteRecord(e.id)}},n.a.createElement(B.a,{icon:L.g}))))}))},l.state={showAddModal:!1,showUpdateModel:!1,value:"1",activePartyId:"",activePartyName:"",activePartyMobile:"",activePartyAddress:"",activePartyType:1,partiesData:null},l}return Object(b.a)(a,[{key:"fetchPartiesData",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM partyView WHERE type=1 AND status=1;"};q.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("party data: ",t.data),e.setState({partiesData:t.data})})).catch((function(e){console.log("party data error: ",e)}))}},{key:"handleUpdateSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:'UPDATE party SET name="'.concat(this.state.activePartyName,'", mobile="').concat(this.state.activePartyMobile,'", address="').concat(this.state.activePartyAddress,'", type=').concat(this.state.activePartyType," WHERE id=").concat(this.state.activePartyId,";")};q.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("Party details updated successfully"),t.fetchPartiesData()})).catch((function(e){console.log("error while updating party data",e)}))}},{key:"handleAddSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO party(name, mobile, address, type) VALUES('".concat(this.state.activePartyName,"', '").concat(this.state.activePartyMobile,"', '").concat(this.state.activePartyAddress,"', ").concat(this.state.activePartyType,")")};q.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("party details added successfully"),t.fetchPartiesData()})).catch((function(e){console.log(e)}))}},{key:"deleteRecord",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE party SET status = 0  WHERE id=".concat(e,";")};q.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("deleted status data: ",e.data),console.log("Party deleted successfully"),U.b.error("Party deleted successfully"),setTimeout((function(){t.refreshParties()}),2e3)})).catch((function(e){console.log("record delete error: ",e)}))}},{key:"componentDidMount",value:function(){this.fetchPartiesData()}},{key:"componentDidUpdate",value:function(){H("#retailer_table").DataTable({destroy:!0,keys:!0,buttons:["copy","csv","excel",{extend:"pdf",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"},{extend:"print",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"}]})}},{key:"refreshParties",value:function(){window.location.reload(!1)}},{key:"renderUpdatePartyModal",value:function(){var e=this;return n.a.createElement(A.a,{show:this.state.showUpdateModal,onHide:function(t){return e.setState({showUpdateModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Update Party")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyName,onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyMobile,onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyAddress,onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:this.state.activePartyType,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:2},"Wholeseller"),n.a.createElement(C.a,{value:3},"Customer")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showUpdateModal:!1}),e.handleUpdateSubmit(t)}},"Update")))))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-fluid border m-0 p-0 main"},n.a.createElement("div",{className:"m-0 p-0"},n.a.createElement("div",{className:"container-fluid border m-0 p-1"},n.a.createElement("div",{class:"btn-group",role:"group","aria-label":"Basic example"},n.a.createElement(S.a,{className:"mt-1 mr-1 mb-3",color:"primary",variant:"contained",onClick:function(t){e.setState({showAddModal:!0})}},"add new retailer"),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mt-1 mr-1 mb-3 ml-5",onClick:this.refreshParties},n.a.createElement(B.a,{icon:L.f,size:"2x"}))),this.renderUpdatePartyModal(),n.a.createElement(A.a,{show:this.state.showAddModal,onHide:function(t){return e.setState({showAddModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Add New Retailer")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:1,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:1},"DistributorPartyManager")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showAddModal:!1}),e.handleAddSubmit(t)}},"Add"))))),n.a.createElement(d.a,{className:"ml-0 mr-0"},n.a.createElement(u.a,{md:"12",className:"p-0 m-0 measure1"},n.a.createElement("div",null,n.a.createElement("table",{id:"retailer_table",className:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",{align:"center"},n.a.createElement("th",null,"Party Id"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Mobile No"),n.a.createElement("th",null,"Address"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Options"))),n.a.createElement("tbody",null,this.renderPartiesData()))))))),n.a.createElement(U.a,{position:U.b.POSITION.TOP_RIGHT,autoClose:5e3}))}}]),a}(l.Component);window.JSZip=R.a;var Y=a(12);Y.DataTable=a(29),a(47),a(82),a(83),a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91);var W=a(37),Q=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).handleTabs=function(e,t){l.setState({value:t})},l.renderPartiesData=function(){var e=l.state.partiesData;return null==e?null:e.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",{align:"center"},n.a.createElement(p.a,{variant:"primary"},e.id)," "),n.a.createElement("td",{align:"center"},e.name),n.a.createElement("td",{align:"center"},e.mobile),n.a.createElement("td",{align:"center"},e.address),n.a.createElement("td",{align:"center"},null==e.balance?0:e.balance),n.a.createElement("td",{align:"center"},n.a.createElement(S.a,{color:"primary",variant:"contained",onClick:function(t){l.setState({activePartyId:e.id,activePartyName:e.name,activePartyMobile:e.mobile,activePartyAddress:e.address,activePartyType:e.type,showUpdateModal:!0})}},n.a.createElement(B.a,{icon:L.d})),n.a.createElement(i.c,{to:"ledgerManager/".concat(e.id)},n.a.createElement(S.a,{className:"mx-1",color:"primary",variant:"contained",onClick:function(e){}},n.a.createElement(B.a,{icon:L.a}))),n.a.createElement(S.a,{className:"mx-1",color:"danger",variant:"contained",onClick:function(t){window.confirm("Delete the item?")&&l.deleteRecord(e.id)}},n.a.createElement(B.a,{icon:L.g}))))}))},l.state={showAddModal:!1,showUpdateModel:!1,value:"1",activePartyId:"",activePartyName:"",activePartyMobile:"",activePartyAddress:"",activePartyType:2,partiesData:null},l}return Object(b.a)(a,[{key:"fetchPartiesData",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM party WHERE type=2 AND status=1;"};W.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("party data: ",t.data),e.setState({partiesData:t.data})})).catch((function(e){console.log("party data error: ",e)}))}},{key:"handleUpdateSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:'UPDATE partyView SET name="'.concat(this.state.activePartyName,'", mobile="').concat(this.state.activePartyMobile,'", address="').concat(this.state.activePartyAddress,'", type=').concat(this.state.activePartyType," WHERE id=").concat(this.state.activePartyId,";")};W.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("Party details updated successfully"),t.fetchPartiesData()})).catch((function(e){console.log("error while updating party data",e)}))}},{key:"handleAddSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO party(name, mobile, address, type) VALUES('".concat(this.state.activePartyName,"', '").concat(this.state.activePartyMobile,"', '").concat(this.state.activePartyAddress,"', ").concat(this.state.activePartyType,")")};W.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("party details added successfully"),t.fetchPartiesData()})).catch((function(e){console.log(e)}))}},{key:"deleteRecord",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE party SET status = 0  WHERE id=".concat(e,";")};W.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("deleted status data: ",e.data),console.log("Party deleted successfully"),U.b.error("Party deleted successfully"),setTimeout((function(){t.refreshParties()}),2e3)})).catch((function(e){console.log("record delete error: ",e)}))}},{key:"componentDidMount",value:function(){this.fetchPartiesData()}},{key:"componentDidUpdate",value:function(){Y("#Wholeseller_table").DataTable({destroy:!0,keys:!0,buttons:["copy","csv","excel",{extend:"pdf",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"},{extend:"print",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"}]})}},{key:"refreshParties",value:function(){window.location.reload(!1)}},{key:"renderUpdatePartyModal",value:function(){var e=this;return n.a.createElement(A.a,{show:this.state.showUpdateModal,onHide:function(t){return e.setState({showUpdateModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Update Party")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyName,onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyMobile,onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyAddress,onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:this.state.activePartyType,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:1},"Retailer"),n.a.createElement(C.a,{value:2},"Wholeseller")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showUpdateModal:!1}),e.handleUpdateSubmit(t)}},"Update")))))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-fluid border m-0 p-0 main"},n.a.createElement("div",{className:"m-0 p-0"},n.a.createElement("div",{className:"container-fluid border m-0 p-1"},n.a.createElement("div",{class:"btn-group",role:"group","aria-label":"Basic example"},n.a.createElement(S.a,{className:"mt-1 mr-1 mb-3",color:"primary",variant:"contained",onClick:function(t){e.setState({showAddModal:!0})}},"add new Wholeseller"),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mt-1 mr-1 mb-3 ml-5",onClick:this.refreshParties},n.a.createElement(B.a,{icon:L.f,size:"2x"}))),this.renderUpdatePartyModal(),n.a.createElement(A.a,{show:this.state.showAddModal,onHide:function(t){return e.setState({showAddModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Add New Wholeseller")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:2,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:2},"Wholeseller")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showAddModal:!1}),e.handleAddSubmit(t)}},"Add"))))),n.a.createElement(d.a,{className:"ml-0 mr-0"},n.a.createElement(u.a,{md:"12",className:"p-0 m-0 measure1"},n.a.createElement("div",null,n.a.createElement("table",{id:"Wholeseller_table",className:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",{align:"center"},n.a.createElement("th",null,"Party Id"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Mobile No"),n.a.createElement("th",null,"Address"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Options"))),n.a.createElement("tbody",null,this.renderPartiesData()))))))),n.a.createElement(U.a,{position:U.b.POSITION.TOP_RIGHT,autoClose:5e3}))}}]),a}(l.Component);window.JSZip=R.a;var G=a(12);G.DataTable=a(29),a(47),a(82),a(83),a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91);var _=a(37),F=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).handleTabs=function(e,t){l.setState({value:t})},l.renderPartiesData=function(){var e=l.state.partiesData;return null==e?null:e.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",{align:"center"},n.a.createElement(p.a,{variant:"primary"},e.id)," "),n.a.createElement("td",{align:"center"},e.name),n.a.createElement("td",{align:"center"},e.mobile),n.a.createElement("td",{align:"center"},e.address),n.a.createElement("td",{align:"center"},null==e.balance?0:e.balance),n.a.createElement("td",{align:"center"},n.a.createElement(S.a,{color:"primary",variant:"contained",onClick:function(t){l.setState({activePartyId:e.id,activePartyName:e.name,activePartyMobile:e.mobile,activePartyAddress:e.address,activePartyType:e.type,showUpdateModal:!0})}},n.a.createElement(B.a,{icon:L.d})),n.a.createElement(i.c,{to:"ledgerManager/".concat(e.id)},n.a.createElement(S.a,{className:"mx-1",color:"primary",variant:"contained",onClick:function(e){}},n.a.createElement(B.a,{icon:L.a}))),n.a.createElement(S.a,{className:"mx-1",color:"danger",variant:"contained",onClick:function(t){window.confirm("Delete the item?")&&l.deleteRecord(e.id)}},n.a.createElement(B.a,{icon:L.g}))))}))},l.state={showAddModal:!1,showUpdateModel:!1,value:"1",activePartyId:"",activePartyName:"",activePartyMobile:"",activePartyAddress:"",activePartyType:2,partiesData:null},l}return Object(b.a)(a,[{key:"fetchPartiesData",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM party WHERE type=3 AND status=1;"};_.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("party data: ",t.data),e.setState({partiesData:t.data})})).catch((function(e){console.log("party data error: ",e)}))}},{key:"handleUpdateSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:'UPDATE party SET name="'.concat(this.state.activePartyName,'", mobile="').concat(this.state.activePartyMobile,'", address="').concat(this.state.activePartyAddress,'", type=').concat(this.state.activePartyType," WHERE id=").concat(this.state.activePartyId,";")};_.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("Party details updated successfully"),t.fetchPartiesData()})).catch((function(e){console.log("error while updating party data",e)}))}},{key:"handleAddSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO party(name, mobile, address, type) VALUES('".concat(this.state.activePartyName,"', '").concat(this.state.activePartyMobile,"', '").concat(this.state.activePartyAddress,"', ").concat(this.state.activePartyType,")")};_.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("party details added successfully"),t.fetchPartiesData()})).catch((function(e){console.log(e)}))}},{key:"deleteRecord",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE party SET status = 0  WHERE id=".concat(e,";")};_.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("deleted status data: ",e.data),console.log("Party deleted successfully"),U.b.error("Party deleted successfully"),setTimeout((function(){t.refreshParties()}),2e3)})).catch((function(e){console.log("record delete error: ",e)}))}},{key:"componentDidMount",value:function(){this.fetchPartiesData()}},{key:"componentDidUpdate",value:function(){G("#Wholeseller_table").DataTable({destroy:!0,keys:!0,buttons:["copy","csv","excel",{extend:"pdf",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"},{extend:"print",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"}]})}},{key:"refreshParties",value:function(){window.location.reload(!1)}},{key:"renderUpdatePartyModal",value:function(){var e=this;return n.a.createElement(A.a,{show:this.state.showUpdateModal,onHide:function(t){return e.setState({showUpdateModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Update Party")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyName,onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyMobile,onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyAddress,onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:this.state.activePartyType,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:1},"Retailer"),n.a.createElement(C.a,{value:2},"Wholeseller")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showUpdateModal:!1}),e.handleUpdateSubmit(t)}},"Update")))))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-fluid border m-0 p-0 main"},n.a.createElement("div",{className:"m-0 p-0"},n.a.createElement("div",{className:"container-fluid border m-0 p-1"},n.a.createElement("div",{class:"btn-group",role:"group","aria-label":"Basic example"},n.a.createElement(S.a,{className:"mt-1 mr-1 mb-3",color:"primary",variant:"contained",onClick:function(t){e.setState({showAddModal:!0})}},"add new Wholeseller"),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mt-1 mr-1 mb-3 ml-5",onClick:this.refreshParties},n.a.createElement(B.a,{icon:L.f,size:"2x"}))),this.renderUpdatePartyModal(),n.a.createElement(A.a,{show:this.state.showAddModal,onHide:function(t){return e.setState({showAddModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Add New Wholeseller")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:2,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:2},"Wholeseller")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showAddModal:!1}),e.handleAddSubmit(t)}},"Add"))))),n.a.createElement(d.a,{className:"ml-0 mr-0"},n.a.createElement(u.a,{md:"12",className:"p-0 m-0 measure1"},n.a.createElement("div",null,n.a.createElement("table",{id:"Wholeseller_table",className:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",{align:"center"},n.a.createElement("th",null,"Party Id"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Mobile No"),n.a.createElement("th",null,"Address"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Options"))),n.a.createElement("tbody",null,this.renderPartiesData()))))))),n.a.createElement(U.a,{position:U.b.POSITION.TOP_RIGHT,autoClose:5e3}))}}]),a}(l.Component);window.JSZip=R.a;var Z=a(12);Z.DataTable=a(29),a(47),a(82),a(83),a(84),a(85),a(86),a(87),a(88),a(89),a(90),a(91);var J=a(37),K=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).handleTabs=function(e,t){l.setState({value:t})},l.renderPartiesData=function(){var e=l.state.partiesData;return null==e?null:e.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",{align:"center"},n.a.createElement(p.a,{variant:"primary"},e.id)," "),n.a.createElement("td",{align:"center"},e.name),n.a.createElement("td",{align:"center"},n.a.createElement("a",{href:"tel:"+e.mobile},n.a.createElement(S.a,{className:"mx-1",color:"primary",variant:"secondary"},e.mobile))),n.a.createElement("td",{align:"center"},e.address),n.a.createElement("td",{align:"center"},1===e.type?"Retailer":1===e.type?"Wholeseller":"Customer"),n.a.createElement("td",{align:"center"},null==e.balance?0:e.balance),n.a.createElement("td",{align:"center"},n.a.createElement(S.a,{color:"primary",variant:"contained",onClick:function(t){l.setState({activePartyId:e.id,activePartyName:e.name,activePartyMobile:e.mobile,activePartyAddress:e.address,activePartyType:e.type,showUpdateModal:!0})}},n.a.createElement(B.a,{icon:L.d})),n.a.createElement(i.c,{to:"ledgerManager/".concat(e.id)},n.a.createElement(S.a,{className:"mx-1",color:"primary",variant:"contained",onClick:function(e){}},n.a.createElement(B.a,{icon:L.a}))),n.a.createElement(S.a,{className:"mx-1",color:"danger",variant:"contained",onClick:function(t){window.confirm("Delete the item?")&&l.deleteRecord(e.id)}},n.a.createElement(B.a,{icon:L.g}))))}))},l.state={showAddModal:!1,showUpdateModel:!1,value:"1",activePartyId:"",activePartyName:"",activePartyMobile:"",activePartyAddress:"",activePartyType:1,partiesData:null},l}return Object(b.a)(a,[{key:"fetchPartiesData",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM partyView WHERE status=1;"};J.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("party data: ",t.data),e.setState({partiesData:t.data})})).catch((function(e){console.log("party data error: ",e)}))}},{key:"handleUpdateSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:'UPDATE party SET name="'.concat(this.state.activePartyName,'", mobile="').concat(this.state.activePartyMobile,'", address="').concat(this.state.activePartyAddress,'", type=').concat(this.state.activePartyType," WHERE id=").concat(this.state.activePartyId,";")};J.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("Party details updated successfully"),t.fetchPartiesData()})).catch((function(e){console.log("error while updating party data",e)}))}},{key:"handleAddSubmit",value:function(e){var t=this;e.preventDefault();var a={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO party(name, mobile, address, type) VALUES('".concat(this.state.activePartyName,"', '").concat(this.state.activePartyMobile,"', '").concat(this.state.activePartyAddress,"', ").concat(this.state.activePartyType,")")};J.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("party details added successfully"),setTimeout((function(){t.refreshParties()}),2e3)})).catch((function(e){console.log(e)}))}},{key:"deleteRecord",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE party SET status = 0  WHERE id=".concat(e,";")};J.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("deleted status data: ",e.data),console.log("Party deleted successfully"),U.b.error("Party deleted successfully"),setTimeout((function(){t.refreshParties()}),2e3)})).catch((function(e){console.log("record delete error: ",e)}))}},{key:"refreshParties",value:function(){window.location.reload(!1)}},{key:"componentDidMount",value:function(){this.fetchPartiesData()}},{key:"componentDidUpdate",value:function(){Z("#party_table").DataTable({destroy:!0,keys:!0,buttons:["copy","csv","excel",{extend:"pdf",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"},{extend:"print",messageTop:"<h4 style='text-align:center'>Users List</h4>",download:"open"}]})}},{key:"renderUpdatePartyModal",value:function(){var e=this;return n.a.createElement(A.a,{show:this.state.showUpdateModal,onHide:function(t){return e.setState({showUpdateModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Update Party")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyName,onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyMobile,onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:this.state.activePartyAddress,onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:this.state.activePartyType,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:1},"Retailer"),n.a.createElement(C.a,{value:2},"Wholeseller"),n.a.createElement(C.a,{value:3},"Customer")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showUpdateModal:!1}),e.handleUpdateSubmit(t)}},"Update")))))}},{key:"render",value:function(){var e=this;return n.a.createElement(I.a,{value:this.state.value,className:"container-fluid border m-0 p-0 main"},n.a.createElement(w.a,{position:"static",color:"default"},n.a.createElement(O.a,{onChange:this.handleTabs,"aria-label":"simple tabs example",indicatorColor:"primary",textColor:"primary"},n.a.createElement(M.a,{label:"Parties",value:"1"}),n.a.createElement(M.a,{label:"Retailers",value:"2"}),n.a.createElement(M.a,{label:"Wholeseller",value:"3"}),n.a.createElement(M.a,{label:"Customer",value:"4"}))),n.a.createElement(k.a,{value:"1",className:"m-0 p-0"},n.a.createElement("div",{className:"container-fluid border m-0 p-1"},n.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},n.a.createElement(S.a,{className:"mt-1 mr-1 mb-3",color:"primary",variant:"contained",onClick:function(t){e.setState({showAddModal:!0})}},"add new party"),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mt-1 mr-1 mb-3 ml-5",onClick:this.refreshParties},n.a.createElement(B.a,{icon:L.f,size:"2x"}))),this.renderUpdatePartyModal(),n.a.createElement(A.a,{show:this.state.showAddModal,onHide:function(t){return e.setState({showAddModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Add New Party")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{size:"12"},n.a.createElement(T.a,{id:"partyName",label:"Party name",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){e.setState({activePartyName:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"mobile",label:"Mobile",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyMobile:t.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"address",s:!0,label:"Address",variant:"outlined",className:"m-2",defaultValue:"",onChange:function(t){return e.setState({activePartyAddress:t.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(P.a,{variant:"filled",style:{minWidth:"120px"},className:"mt-2 ml-2"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"type",defaultValue:1,onChange:function(t){return e.setState({activePartyType:t.target.value})}},n.a.createElement(C.a,{value:1},"Retialer"),n.a.createElement(C.a,{value:2},"Wholeseller"),n.a.createElement(C.a,{value:3},"Customer")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(t){e.setState({showAddModal:!1}),e.handleAddSubmit(t)}},"Add"))))),n.a.createElement(d.a,{className:"ml-0 mr-0"},n.a.createElement(u.a,{md:"12",className:"p-0 m-0 measure1"},n.a.createElement("div",null,n.a.createElement("table",{id:"party_table",className:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",{align:"center"},n.a.createElement("th",null,"Party Id"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Mobile No"),n.a.createElement("th",null,"Address"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Options"))),n.a.createElement("tbody",null,this.renderPartiesData()))))))),n.a.createElement(k.a,{value:"2",className:"m-0 p-0"},n.a.createElement(V,null)),n.a.createElement(k.a,{value:"3",className:"m-0 p-0"},n.a.createElement(Q,null)),n.a.createElement(k.a,{value:"4",className:"m-0 p-0"},n.a.createElement(F,null)),n.a.createElement(U.a,{position:U.b.POSITION.TOP_RIGHT,autoClose:5e3}))}}]),a}(l.Component),X=(a(188),a(192)),$=a(24),ee=a.n($),te=(a(105),a(73),a(74),a(12)),ae=a.n(te),le=a(37),ne=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).state={showDeleteModal:!1,description:"",amount:"",expenseData:{},activeExpenseId:null},l}return Object(b.a)(a,[{key:"getExpenseData",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT *  from expenses order by id desc;"};le.post(z,t).then((function(t){console.log(t.data),e.setState({expenseData:t.data}),e.initializeDataTable()})).catch((function(e){console.log(e),Object(U.b)("failed to fetch")}))}},{key:"componentDidMount",value:function(){this.getExpenseData()}},{key:"handleSubmit",value:function(e,t){var a=this;e.preventDefault();var l=t.description,n=t.amount,r=new Date,c={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO expenses (description,date,amount) VALUES('".concat(l,"','").concat(ee()(r).format(),"',").concat(n,");")};le.post(z,c).then((function(e){Object(U.b)("expense saved successfully"),a.getExpenseData()})).catch((function(e){console.log(e),Object(U.b)("failed to save")}))}},{key:"deleteExpense",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"DELETE from expenses WHERE id=".concat(e,";")};le.post(z,a).then((function(e){U.b.success("expense deleted successfully"),t.getExpenseData()})).catch((function(e){console.log(e)}))}},{key:"initializeDataTable",value:function(){ae()("#expenses_table").DataTable({destroy:!0})}},{key:"refreshLedger",value:function(){window.location.reload(!1)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-fluid border m-0 p-1 main",style:{backgroundColor:"aliceblue"}},n.a.createElement(h.a,null,n.a.createElement(h.a.Body,{className:"mt-0 pt-3"},n.a.createElement(h.a.Title,null,"Manage Expenses"),n.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){return e.handleSubmit(t,e.state)}},n.a.createElement("div",{className:"mt-3"},n.a.createElement(T.a,{id:"amount",label:"Amount",variant:"outlined",type:"number",size:"small",value:this.state.amount,className:"mr-3",onChange:function(t){return e.setState({amount:t.target.value})}}),n.a.createElement(T.a,{id:"description",label:"Description",variant:"outlined",size:"small",value:this.state.description,className:"mr-3",style:{minWidth:"30vw"},onChange:function(t){return e.setState({description:t.target.value})}}),n.a.createElement(S.a,{variant:"contained",color:"primary",type:"submit"},"Add expense"),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"ml-3 p-1",onClick:this.refreshLedger},n.a.createElement(B.a,{icon:L.f,size:"2x"})))))),n.a.createElement("div",{component:X.a,style:{width:"100%"},className:"mt-2"},n.a.createElement("table",{id:"expenses_table",className:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{align:"center"},"Expense Id"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Date"),n.a.createElement("th",{align:"center"},"Option"))),n.a.createElement("tbody",null,this.state.expenseData.length>0?this.state.expenseData.map((function(t){return n.a.createElement("tr",{key:t.id},n.a.createElement("td",{align:"center"},n.a.createElement(p.a,{variant:"primary"}," ",t.id)),n.a.createElement("td",{style:{textTransform:"capitalize"}},t.description),n.a.createElement("td",null,"\u20b9 ",t.amount),n.a.createElement("td",null,ee()(t.date).format("D/M/YYYY h:mm A")),n.a.createElement("td",{align:"center"},n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mt-1 mb-1",onClick:function(a){e.setState({activeExpenseId:t.id}),e.setState({showDeleteModal:!0})}},n.a.createElement(B.a,{icon:L.g})),n.a.createElement(A.a,{show:e.state.showDeleteModal,onHide:function(t){return e.setState({showDeleteModal:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Delete expense record")),n.a.createElement(A.a.Body,null,n.a.createElement("p",null,"Do you really want to delete this expense?"),n.a.createElement(S.a,{color:"danger",variant:"contained",className:"mt-1 mb-1",onClick:function(){e.deleteExpense(e.state.activeExpenseId),e.setState({showDeleteModal:!1})}},"Delete")))))})):n.a.createElement("tr",null,n.a.createElement("td",null,"No data found"))))),n.a.createElement(U.a,{position:U.b.POSITION.TOP_RIGHT,autoClose:3e3}))}}]),a}(l.Component),re=(a(127),a(240)),ce=a(254),ie=a(37),se=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).state={name:null,quntity:0,amount:0},l}return Object(b.a)(a,[{key:"handleAddSubmit",value:function(e){e.preventDefault();var t={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO products( name, quantity) VALUES('".concat(this.state.name,"', ").concat(this.state.quantity,");")};ie.post(z,t).then((function(e){U.b.success("Product record added successfully")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row"},n.a.createElement("form",{autoComplete:"off"},n.a.createElement("div",{className:"row ml-4 mt-4"},n.a.createElement(T.a,{id:"name",label:"name",variant:"outlined",type:"text",className:"mr-2",required:!0,size:"small",onChange:function(t){return e.setState({name:t.target.value})}}),n.a.createElement(T.a,{id:"quantity",label:"Quantity",variant:"outlined",type:"number",className:"mr-2",size:"small",onChange:function(t){return e.setState({quantity:t.target.value})}}),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mb-3",onClick:function(t){return e.handleAddSubmit(t)}},n.a.createElement(B.a,{icon:L.e,size:"2x"})),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mb-3 ml-2",onClick:this.props.refreshLedger},n.a.createElement(B.a,{icon:L.f,size:"2x"})))),n.a.createElement(U.a,null))}}]),a}(l.Component),oe=a(37),me=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).fetchProducts=function(){var e={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM products"};oe.post(z,e).then((function(e){l.setState({products:e.data}),l.initializeDataTable()})).catch((function(e){console.log("data fetch error: ",e)}))},l.renderProductData=function(){if(null==l.state.products)return null;var e=l.state.products,t=null;return e.map((function(e){return t=ee()(e.last_modified).format("DD / MM / YYYY HH:MM"),n.a.createElement("tr",null,n.a.createElement("td",{align:"center"},n.a.createElement(p.a,{variant:"primary"},e.id,n.a.createElement("span",{hidden:!0},"$"))," "),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.quantity),n.a.createElement("td",null,t),n.a.createElement("td",{align:"center"},n.a.createElement(S.a,{variant:"contained",onClick:function(t){window.confirm("Delete the item?")&&l.deleteRecord(e.id)}},n.a.createElement(B.a,{icon:L.h}))))}))},l.state={partyId:0,showAddModal:!1,showProudctUpdateModal:!1,activeProduct:null,activeQuantity:null,products:null},l}return Object(b.a)(a,[{key:"deleteRecord",value:function(e){var t={crossDomain:!0,crossOrigin:!0,query:"UPDATE products SET status = 0  WHERE id = ".concat(e,";")};oe.post(z,t).then((function(e){console.log("deleted status data: ",e.data),console.log("record deleted successfully"),U.b.error("Record deleted successfully")})).catch((function(e){console.log("record delete error: ",e)}))}},{key:"refreshLedger",value:function(){window.location.reload(!1)}},{key:"componentDidMount",value:function(){this.fetchProducts()}},{key:"initializeDataTable",value:function(){ae()("#product_table").DataTable({destroy:!0})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-fluid border m-0 p-1"},n.a.createElement("br",null),n.a.createElement("div",{className:"btn-group mb-3",role:"group","aria-label":"Basic example"},n.a.createElement(se,{refreshLedger:function(){return e.refreshLedger()}})),n.a.createElement(d.a,{className:"ml-0 mr-0"},n.a.createElement(u.a,{md:"12",className:"p-0 m-0 measure1"},n.a.createElement(re.a,{component:X.a,style:{maxHeight:"79vh"}},n.a.createElement("table",{id:"product_table",className:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{align:"center"},"ID"),n.a.createElement("th",{align:"center"},"Name"),n.a.createElement("th",null,"quantity"),n.a.createElement("th",null,"last modified"),n.a.createElement("th",{align:"center"},"Options"))),n.a.createElement(ce.a,null,this.renderProductData()))))))}}]),a}(l.Component),de=(a(128),a(190),a(107)),ue=a.n(de),Ee=a(57),he=a(95),pe=a.n(he),ye=a(136),ve=a(241),fe=a(245),be=(a(106),a(37)),ge=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l,n;return Object(f.a)(this,a),(n=t.call(this)).getLatestId=function(){var e={crossDomain:!0,crossOrigin:!0,query:"SELECT id FROM gstBill ORDER BY id DESC LIMIT 1;"};be.post("http://localhost:5000/executeQuery/",e).then((function(e){console.log("latest id data: ",e.data),n.setState({billId:(null!=e.data[0]?e.data[0].id:0)+1})})).catch((function(e){console.log("latest id data fetch error: ",e)}))},n.fetchProducts=function(){var e={crossDomain:!0,crossOrigin:!0,query:"SELECT name FROM products"};be.post(z,e).then((function(e){var t=e.data.map((function(e){return e.name}));n.setState({productList:t}),n.initializeDataTable()})).catch((function(e){console.log("productlist data fetch error: ",e)}))},n.caluclateWeight=function(e,t){if("totalBoxes"===e){var a=t*n.state.weightPerBox;n.setState({totalBoxes:t}),n.setState({weight:a})}else if("weightPerBox"===e){var l=n.state.totalBoxes*t;n.setState({weightPerBox:t}),n.setState({weight:l})}},n.calculateAmount=function(e,t){if("weight"===e){var a=t*n.state.rate;n.setState({weight:t}),n.setState({amount:a})}else if("rate"===e){var l=n.state.weight*t;n.setState({rate:t}),n.setState({amount:l})}},n.calculateTaxes=function(){var e=n.state.total;n.setState({sgst:Number(e/100*9).toFixed(2),cgst:Number(e/100*9).toFixed(2),igst:Number(e/100*18).toFixed(2)},n.calculateGrandTotal)},n.calculateGrandTotal=function(){var e;e=1===n.state.billType?Number(n.state.total)+Number(n.state.igst)+Number(n.state.adjustment):Number(n.state.total)+Number(n.state.adjustment),n.setState({grandTotal:e.toFixed(2)})},n.addItems=function(){if(n.state.particular&&n.state.rate){var e=n.state.addedItems;e.find((function(e){return e.particular===n.state.particular}))?e=e.map((function(e){return e.particular===n.state.particular?{particular:n.state.particular,quantity:+e.quantity+ +n.state.quantity,rate:+e.rate+ +n.state.rate,amount:+e.amount+ +n.state.rate*+n.state.quantity}:e})):e.push({particular:n.state.particular,quantity:n.state.quantity,rate:n.state.rate,amount:n.state.rate*n.state.quantity}),n.setState({addedItems:e});var t=Number(n.state.total)+Number(n.state.rate*n.state.quantity);n.setState({total:t},n.calculateTaxes);var a=t+Number(n.state.advance);n.setState({balance:a})}},n.deleteItem=function(e){var t=n.state.addedItems,a=n.state.total-t[e].amount,l=a+Number(n.state.advance);n.setState({total:a},n.calculateTaxes),n.setState({balance:l});var r=t.filter((function(t,a){if(e!==a)return t}));n.setState({addedItems:r})},n.handleClear=function(){window.location.reload(!1)},n.insertBillList=function(){n.state.addedItems.map((function(e,t){var a={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO billList(billType, billId, partyId, particular,quantity, rate, amount, status) VALUES(\n          ".concat(n.state.billType,",\n          ").concat(n.state.billId,",\n          ").concat(n.state.partyId,",\n          '").concat(e.particular,"', \n          ").concat(e.quantity,", \n          ").concat(e.rate,", \n          ").concat(e.amount,",\n          1\n        )")};be.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("insert billList successfull, index: ",t)})).catch((function(e){console.log("failed to insert billList, error: ",e)}))}))},n.insertLedgerRecord=function(){var e={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO ledger(party_id, particular, total, memo_id) VALUES(".concat(n.state.partyId,", 'reference bill id: ").concat(n.state.latestInsertId,"', ").concat(n.state.total,", ").concat(n.state.latestInsertId,")")};be.post(z,e).then((function(e){console.log("insert ledger successful"),console.log("insert response: ",e.data.insertId)})).catch((function(e){console.log("failed to insert ledger, error: ",e)}))},n.insertNewPartyAndSave=function(){var e={crossDomain:!0,crossOrigin:!0,query:'INSERT INTO party (name, address) values("'.concat(n.state.newPartyName,'", "').concat(n.state.address,'")')};be.post(z,e).then((function(e){console.log("insert party successful"),console.log("insert response: ",e.data.insertId),n.setState({partyId:e.data.insertId},n.saveBill)})).catch((function(e){console.log("failed to insert party, error: ",e)}))},n.saveBill=function(){var e=ee()(new Date).format("YYYY-MM-DD"),t={crossDomain:!0,crossOrigin:!0,query:1===n.state.billType?'INSERT INTO gstBill (partyId, aadharCard, total, gst, adjustment, paid, balance, date, status) values(\n        "'.concat(n.state.partyId,'", \n        "').concat(n.state.aadharCardNo,'",     \n        ').concat(n.state.grandTotal,",\n        ").concat(n.state.igst,", \n        ").concat(n.state.adjustment,", \n        ").concat(n.state.advance,",\n        ").concat(n.state.grandTotal-n.state.advance,', \n        "').concat(e,'", \n        1)'):'INSERT INTO nonGstBill (partyId, aadharCard, total, adjustment, paid, balance, routeName, date, status) values("\n        '.concat(n.state.partyId,'", \n        "').concat(n.state.aadharCardNo,'", \n        ').concat(n.state.grandTotal,", \n        ").concat(n.state.adjustment,", \n        ").concat(n.state.advance,", \n        ").concat(n.state.grandTotal-n.state.advance,",\n        '").concat(n.state.routeName,"',\n        \"").concat(e,'", \n        1)')};be.post(z,t).then((function(e){U.b.success("Generated Bill successfully"),n.setState({billId:e.data.insertId},n.insertBillList)})).catch((function(e){U.b.error("Failed to Generate Bill ")}))},n.handleSave=function(){var e=Object(ye.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),null===n.state.partyId?n.insertNewPartyAndSave():n.saveBill();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSavePrint=function(e){console.log("in handle save print"),n.handleSave()},n.state=(l={billId:null,partyId:0,partyName:null,newPartyName:null,address:null,aadharCardNo:null,gstin:null,billType:1,routeName:"",date:ee()(new Date).format("YYYY-MM-DD"),particularValue:null,particular:null,quantity:0,rate:0,amount:0,itemList:[],addedItems:[],advance:0,total:0,balance:0,sgst:0,cgst:0,igst:0,adjustment:0},Object(Ee.a)(l,"advance",0),Object(Ee.a)(l,"grandTotal",0),Object(Ee.a)(l,"printComponentRef",null),Object(Ee.a)(l,"partyList",null),Object(Ee.a)(l,"latestInsertId",0),Object(Ee.a)(l,"productList",[]),Object(Ee.a)(l,"routeOptions",[]),l),n}return Object(b.a)(a,[{key:"fetchRouteOptions",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT name from routes;"};be.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("route options data : ",t.data);var a=t.data.map((function(e){return e.name}));e.setState({routeOptions:a})})).catch((function(e){console.log("route options error : ",e)}))}},{key:"getIdPartyList",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT id, name, address FROM party;"};be.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("id+name data: ",t.data),e.setState({partyList:t.data})})).catch((function(e){console.log("id + name fetch error: ",e)}))}},{key:"componentDidMount",value:function(){this.getLatestId(),this.getIdPartyList(),this.fetchRouteOptions(),this.fetchProducts()}},{key:"render",value:function(){var e=this;return n.a.createElement("form",{className:"mb-5",onSubmit:function(e){return e.preventDefault()}},n.a.createElement(P.a,{style:{minWidth:"250px"},className:"mr-2 mb-2 smt-0"},n.a.createElement(fe.a,{id:"free-solo-demo",freeSolo:!0,options:null!=this.state.partyList?this.state.partyList.map((function(e){return e.id+", "+e.name})):[],renderInput:function(t){return n.a.createElement(T.a,Object.assign({},t,{label:"Party name",variant:"outlined",size:"small",value:e.state.newPartyName,onChange:function(t){return e.setState({newPartyName:t.target.value})}}))},onChange:function(t,a){var l;(console.log(a),null!=a&&a.length>2)?e.setState({partyId:a.split(", ")[0],partyName:a.split(", ")[1],address:null===(l=e.state.partyList.find((function(e){return e.id==a.split(", ")[0]})))||void 0===l?void 0:l.address}):e.setState({partyId:null,partyName:""})}})),n.a.createElement(T.a,{id:"custAddress",label:"Address",variant:"outlined",className:"mr-2",value:this.state.address||"",onChange:function(t){return e.setState({address:t.target.value})},disabled:!!this.state.partyId,size:"small"}),n.a.createElement(T.a,{id:"aadharCardNo",label:"Aadhar Card No",variant:"outlined",className:"mr-2",value:this.state.aadharCardNo,onChange:function(t){return e.setState({aadharCardNo:t.target.value})},size:"small"}),n.a.createElement(T.a,{id:"gstin",label:"GSTIN",variant:"outlined",className:"mr-2 mt-1",value:this.state.gstin,onChange:function(t){return e.setState({gstin:t.target.value})},size:"small"}),n.a.createElement(P.a,{variant:"outlined",className:"mr-2 mb-2 mt-2",style:{minWidth:"180px"},size:"small"},n.a.createElement(D.a,{id:"demo-simple-select-outlined-label"},"Bill Type"),n.a.createElement(x.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(t){return e.setState({billType:t.target.value})},name:"billType",value:this.state.billType,size:"small",label:"Bill Type"},n.a.createElement(C.a,{value:1},"GST"),n.a.createElement(C.a,{value:2},"Non GST"))),n.a.createElement(T.a,{id:"adjustment",label:"Adjustment",variant:"outlined",className:"mr-2 mt-2",value:this.state.adjustment,onChange:function(t){return e.setState({adjustment:t.target.value})},size:"small",type:"number"}),n.a.createElement(T.a,{id:"advance",label:"Advance",variant:"outlined",className:"mr-2 mt-2",value:this.state.advance,onChange:function(t){return e.setState({advance:t.target.value})},size:"small",type:"number"}),n.a.createElement("hr",null),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(P.a,{style:{minWidth:"250px"},className:"mr-2 mb-2 smt-0"},n.a.createElement(fe.a,{id:"free-solo-demo",freeSolo:!0,options:null!=this.state.productList?this.state.productList.map((function(e){return e})):[],renderInput:function(e){return n.a.createElement(T.a,Object.assign({},e,{label:"product",variant:"outlined",size:"small"}))},onChange:function(t,a){e.setState({particular:a})}}))),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"quantity",label:"Quantity",variant:"outlined",className:"mr-2 mt-1",value:this.state.quantity,onChange:function(t){return e.setState({quantity:t.target.value})},required:"true",size:"small",type:"number"})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"rate",label:"Rate",variant:"outlined",className:"mr-2 mt-1",value:this.state.rate,onChange:function(t){return e.setState({rate:t.target.value})},required:"true",size:"small",type:"number"})),n.a.createElement(u.a,null,n.a.createElement(S.a,{color:"primary",variant:"contained",className:"mt-2",onClick:this.addItems,disabled:!this.state.particular||!this.state.rate||!this.state.quantity},"Add"))),n.a.createElement("div",{className:"mt-1 p-2 measure"},n.a.createElement(d.a,null,n.a.createElement(u.a,{md:8,className:"mx-auto"},n.a.createElement(h.a,{className:"mt-2 p-0"},n.a.createElement(h.a.Header,null,n.a.createElement(h.a.Title,{className:"text-center pb-0 mb-0"},n.a.createElement("b",null,"MINISHO")),n.a.createElement("hr",null),n.a.createElement("p",{className:"text-center"},"Customer Care No. 7028828831, 06, 07",n.a.createElement("hr",null),"email ID: customer.care@minisho.com"),n.a.createElement("hr",null),n.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},n.a.createElement("p",null,"Invoice No."," ",n.a.createElement("b",null,this.state.billId)),n.a.createElement("p",null,"Date"," ",n.a.createElement("b",null,ee()(new Date).format("D/M/YYYY")))),n.a.createElement(h.a.Title,{className:"text-center pb-0 mb-0"},n.a.createElement("h5",null,n.a.createElement("b",null,"TAX INVOICE")))),n.a.createElement(h.a.Body,{className:"pb-3 mb-0"},n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Party name:"," ",n.a.createElement("b",null,this.state.partyName||this.state.newPartyName))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Address:"," ",n.a.createElement("b",null,this.state.address)))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Aadhar Card No.:"," ",n.a.createElement("b",null,this.state.aadharCardNo))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Date:"," ",n.a.createElement("b",null,ee()(new Date).format("DD/MM/YYYY"))))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"GSTIN: ",n.a.createElement("b",null,this.state.gstin))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}})))),n.a.createElement(h.a.Body,{className:"m-0 pt-0"},n.a.createElement(ve.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Particular"),n.a.createElement("th",null,"quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),this.state.addedItems.length>0?n.a.createElement("tbody",null,this.state.addedItems.map((function(t,a){return n.a.createElement("tr",{key:""+t.particular},n.a.createElement("td",null,t.particular," "),n.a.createElement("td",null,t.quantity),n.a.createElement("td",null,t.rate),n.a.createElement("td",null,t.amount),n.a.createElement("td",{className:"d-print-none",align:"center"},n.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){return e.deleteItem(a)}},n.a.createElement(B.a,{icon:L.g}))))})),n.a.createElement("br",null),1===this.state.billType?n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Total amount before tax"),n.a.createElement("td",{colSpan:"2"},this.state.total)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"SGST 9%"),n.a.createElement("td",{colSpan:"2"},this.state.sgst)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"CGST 9%"),n.a.createElement("td",{colSpan:"2"},this.state.cgst)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"IGST 18%"),n.a.createElement("td",{colSpan:"2"},this.state.igst))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Total amount"),n.a.createElement("td",{colSpan:"2"},this.state.total)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Adjustment"),n.a.createElement("td",{colSpan:"2"},this.state.adjustment)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Grand Total"),n.a.createElement("td",{colSpan:"2"},this.state.grandTotal))):n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},"No items added"))))),n.a.createElement(h.a.Footer,{className:"pb-3 mb-0"},n.a.createElement(d.a,null,n.a.createElement(u.a,{md:7},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Company Name :"," ",n.a.createElement("b",null,"Minisho Pvt. Ltd.")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"GSTIN No.:"," ",n.a.createElement("b",null,"27BASWSES515R1ZM")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"State : ",n.a.createElement("b",null,"Maharashtra"))),n.a.createElement(u.a,{md:5},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Bank : ",n.a.createElement("b",null,"ICICI")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Bank A/c: ",n.a.createElement("b",null,"363405126422")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"IFSC Code : ",n.a.createElement("b",null,"ICIC0006356")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Branch Name : ",n.a.createElement("b",null,"Sangli")))),n.a.createElement("hr",null),n.a.createElement(d.a,{className:"mt-5"},n.a.createElement(u.a,{md:12},n.a.createElement("h6",{className:"float-right"},"Authorised Sign.")))))))),n.a.createElement("div",{className:"mx-5 px-5"},n.a.createElement(ue.a,{trigger:function(){return n.a.createElement(S.a,{className:"mt-2 mr-1",color:"primary",variant:"contained",style:{float:"right"},disabled:!e.state.partyName&&!e.state.newPartyName||!e.state.address,hidden:!0},"Save & Print")}}),n.a.createElement(S.a,{className:"mt-2 mr-1",color:"primary",variant:"contained",style:{float:"right"},onClick:this.handleSave,disabled:!this.state.partyName&&!this.state.newPartyName||!this.state.address},"Save bill"),n.a.createElement(S.a,{className:"mt-2 mr-1",color:"primary",variant:"contained",style:{float:"right"},onClick:this.handleClear},"clear")))}}]),a}(l.Component),Ne=a(37),Se=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this)).fetchBillList=function(){var e={crossDomain:!0,crossOrigin:!0,query:"SELECT gb.*, p.name as pname FROM gstBill as gb inner join party as p where gb.partyId = p.id AND gb.status=1 ORDER BY gb.id DESC;"};Ne.post("http://localhost:5000/executeQuery/",e).then((function(e){console.log("bill: ",e.data),l.setState({billList:e.data}),l.initializeDataTable()})).catch((function(e){console.log("deliveryMemo list fetch error: ",e)}))},l.fetchBillItemList=function(){var e={crossDomain:!0,crossOrigin:!0,query:"SELECT bl.* FROM billList as bl inner join gstBill as gb on bl.billType=gb.id where bl.billId= ".concat(l.state.activeBillId)};Ne.post("http://localhost:5000/executeQuery/",e).then((function(e){console.log("bill list data: ",e.data),l.setState({itemsList:e.data}),l.initializeDataTable()})).catch((function(e){console.log("bill list fetch error: ",e)}))},l.renderMemoList=function(){return null==l.state.billList?null:l.state.billList.map((function(e){return n.a.createElement("tr",{align:"center"},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.pname),n.a.createElement("td",null,e.gst),n.a.createElement("td",null,e.adjustment),n.a.createElement("td",null,e.total),n.a.createElement("td",null,e.paid),n.a.createElement("td",null,e.balance),n.a.createElement("td",null,ee()(e.date).format("DD/MM/YYYY")),n.a.createElement("td",{className:"d-flex justify-content-center"},"\xa0",n.a.createElement(S.a,{className:"mt-2",color:"primary",variant:"contained",onClick:function(){l.setState({activeBillId:e.id,showDisplayBillModal:!0,aadharCard:e.aadharCard,code:e.code,date:e.date,pname:e.pname,total:e.total,gst:e.gst,adjustment:e.adjustment,vehicleNo:e.vehicleNo},l.fetchBillItemList)}},n.a.createElement(B.a,{icon:L.c})),n.a.createElement(S.a,{className:"mt-2",color:"primary",variant:"contained",onClick:function(){l.setState({activeBillId:e.id,showUpdateModel:!0})}},n.a.createElement(B.a,{icon:L.b})),n.a.createElement(S.a,{className:"mt-2",color:"danger",variant:"contained",onClick:function(t){window.confirm("Delete the item?")&&l.deleteRecord(e.id)}},n.a.createElement(B.a,{icon:L.g}))))}))},l.renderUpdateModal=function(){return n.a.createElement(A.a,{show:l.state.showUpdateModel,onHide:function(e){return l.setState({showUpdateModel:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Update bill")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{xs:12},n.a.createElement(T.a,{id:"pending",label:"Paid",variant:"outlined",className:"m-2",defaultValue:"",value:l.state.activePaid,onChange:function(e){return l.setState({activePaid:e.target.value})}})))),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(S.a,{style:{float:"right"},onClick:function(e){l.setState({showUpdateModel:!1}),l.handleUpdateSubmit(e)},variant:"contained",color:"primary"},"Update")))))},l.renderDisplayBillModal=function(){return n.a.createElement(A.a,{show:l.state.showDisplayBillModal,onHide:function(e){return l.setState({showDisplayBillModal:!1})},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Bill details")),n.a.createElement("div",{className:"mt-1 measure"},n.a.createElement(d.a,null,n.a.createElement(u.a,{className:"mx-auto"},n.a.createElement(h.a,{className:"p-0"},n.a.createElement(h.a.Header,null,n.a.createElement(h.a.Title,{className:"text-center pb-0 mb-0"},n.a.createElement("b",null,"MINISHO")),n.a.createElement("hr",null),n.a.createElement("p",{className:"text-center"},"Customer Care No. 77720031305, 06, 07",n.a.createElement("hr",null),"email ID: customer.care@minisho.com"),n.a.createElement("hr",null),n.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},n.a.createElement("p",null,"Invoice No."," ",n.a.createElement("b",null,l.state.activeBillId)),n.a.createElement("p",null,"Date"," ",n.a.createElement("b",null,ee()(l.state.date).format("D/M/YYYY")))),n.a.createElement(h.a.Title,{className:"text-center pb-0 mb-0"},n.a.createElement("h5",null,n.a.createElement("b",null,"TAX INVOICE")))),n.a.createElement(h.a.Body,{className:"pb-3 mb-0"},n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Party name:"," ",n.a.createElement("b",null,l.state.pname)))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Address:"," ",n.a.createElement("b",null,l.state.address))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Vehicle No.:"," ",n.a.createElement("b",null,l.state.vehicleNo)))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Aadhar Card No.:"," ",n.a.createElement("b",null,l.state.aadharCard))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Date:"," ",n.a.createElement("b",null,ee()(l.state.date).format("DD/MM/YYYY"))))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"GSTIN: ",n.a.createElement("b",null,l.state.gstin)),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Code: ",n.a.createElement("b",null,l.state.code))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Sign:")))),n.a.createElement(h.a.Body,{className:"m-0 pt-0"},n.a.createElement(ve.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Particular"),n.a.createElement("th",null,"HSN Code"),n.a.createElement("th",null,"Box Qty."),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),l.state.itemsList.length>0?n.a.createElement("tbody",null,l.state.itemsList.map((function(e,t){return n.a.createElement("tr",{key:""+e.particular},n.a.createElement("td",null,e.particular," "),n.a.createElement("td",null,"2201"),n.a.createElement("td",null,e.boxQty),n.a.createElement("td",null,e.rate),n.a.createElement("td",null,e.amount))})),n.a.createElement("br",null),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Total amount before tax"),n.a.createElement("td",{colSpan:"2"},l.state.total-l.state.gst+l.state.adjustment)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"SGST 9%"),n.a.createElement("td",{colSpan:"2"},l.state.gst/2)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"CGST 9%"),n.a.createElement("td",{colSpan:"2"},l.state.gst/2)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"IGST 18%"),n.a.createElement("td",{colSpan:"2"},l.state.gst)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Adjustment"),n.a.createElement("td",{colSpan:"2"},l.state.adjustment)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Grand Total"),n.a.createElement("td",{colSpan:"2"},l.state.total))):n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},"No items added"))))),n.a.createElement(h.a.Footer,{className:"pb-3 mb-0"},n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"GSTIN No.:"," ",n.a.createElement("b",null,"27AOLPK5202K1ZU")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Date: 28/06/2017"),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"State : Maharashtra Code: 27")),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Bank A/c: ",n.a.createElement("b",null,"16153011000070")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"IFSC Code : BKID0001615"),n.a.createElement("h6",null,"Branch: Sangli")))))))))},l.state={billList:null,showUpdateModel:!1,activeBillId:null,activePaid:0,aadharCard:null,adjustment:0,balance:0,code:null,date:null,gst:null,paid:0,partyId:null,pname:null,total:0,vehicleNo:null,itemsList:[],isLoadingItems:!1},l}return Object(b.a)(a,[{key:"deleteRecord",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE gstBill SET status = 0  WHERE id=".concat(e,";")};Ne.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("deleted status data: ",e.data),U.b.success("item deleted successfully"),U.b.success("Record deleted successfully"),t.fetchBillList()})).catch((function(e){console.log("record delete error: ",e),U.b.error("Failed to delete record")}))}},{key:"initializeDataTable",value:function(){var e="GST bill history-"+ee()().format("DD/MM/YYYY");ae()(document).ready((function(){ae()("#billList").DataTable({destroy:!0,dom:"<'row mb-2'<'col-sm-9' B><'col-sm-3' >><'row mb-2'<'col-sm-9' l><'col-sm-3' f>><'row'<'col-sm-12' tr>><'row'<'col-sm-7 mt-2 mr-5 pr-4'i><'ml-5' p>>",buttons:[{extend:"csv",title:e,download:"open",exportOptions:{columns:[0,1,2,3,4,5,6]}},{extend:"print",title:e,messageTop:"<h4 style='text-align:center'>".concat(e,"</h4>"),download:"open",exportOptions:{columns:[0,1,2,3,4,5,6]}}]})}))}},{key:"initializeData",value:function(){this.fetchBillList()}},{key:"componentDidMount",value:function(){this.initializeData()}},{key:"handleUpdateSubmit",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE gstBill SET balance = balance - ".concat(this.state.activePaid,", paid = paid + ").concat(this.state.activePaid," WHERE id=").concat(this.state.activeBillId,";")};Ne.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("Bill details updated successfully"),t.fetchBillList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(d.a,null,n.a.createElement(u.a,{md:"12",className:"m-0 p-1 measure1",style:{minHeight:"85vh"}},n.a.createElement("div",null,n.a.createElement("table",{id:"billList",class:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",{align:"center"},n.a.createElement("th",{align:"center"},"Bill Id"),n.a.createElement("th",{align:"center"},"Party Name"),n.a.createElement("th",{align:"center"},"GST"),n.a.createElement("th",{align:"center"},"Adjustment"),n.a.createElement("th",{align:"center"},"Total"),n.a.createElement("th",{align:"center"},"Paid"),n.a.createElement("th",{align:"center"},"Balance"),n.a.createElement("th",{align:"center"},"Date"),n.a.createElement("th",{align:"center"},"Actions"))),n.a.createElement("tbody",null,this.renderMemoList())),this.renderUpdateModal(),this.renderDisplayBillModal()))))}}]),a}(l.Component),Te=a(37),Pe=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this)).fetchBillList=function(){var e={crossDomain:!0,crossOrigin:!0,query:"SELECT ngb.*, p.name as pname FROM nonGstBill as ngb inner join party as p where ngb.partyId = p.id AND ngb.status=1 ORDER BY ngb.id DESC;"};Te.post("http://localhost:5000/executeQuery/",e).then((function(e){console.log("bill: ",e.data),l.setState({billList:e.data}),l.initializeDataTable()})).catch((function(e){console.log("deliveryMemo list fetch error: ",e)}))},l.fetchBillItemList=function(){var e={crossDomain:!0,crossOrigin:!0,query:"SELECT bl.* FROM billList as bl inner join nonGstBill as ngb on bl.billType=ngb.id where bl.billId= ".concat(l.state.activeBillId)};Te.post("http://localhost:5000/executeQuery/",e).then((function(e){console.log("bill list data: ",e.data),l.setState({itemsList:e.data}),l.initializeDataTable()})).catch((function(e){console.log("bill list fetch error: ",e)}))},l.renderMemoList=function(){return null==l.state.billList?null:l.state.billList.map((function(e){return n.a.createElement("tr",{align:"center"},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.pname),n.a.createElement("td",null,e.adjustment),n.a.createElement("td",null,e.total),n.a.createElement("td",null,e.paid),n.a.createElement("td",null,e.balance),n.a.createElement("td",null,ee()(e.date).format("DD/MM/YYYY")),n.a.createElement("td",{className:"d-flex justify-content-center"},"\xa0",n.a.createElement(S.a,{className:"mt-2",color:"primary",variant:"contained",onClick:function(){l.setState({activeBillId:e.id,showDisplayBillModal:!0,aadharCard:e.aadharCard,code:e.code,date:e.date,pname:e.pname,total:e.total,adjustment:e.adjustment,vehicleNo:e.vehicleNo},l.fetchBillItemList)}},n.a.createElement(B.a,{icon:L.c})),n.a.createElement(S.a,{className:"mt-2",color:"primary",variant:"contained",onClick:function(){l.setState({activeBillId:e.id,showUpdateModel:!0})}},n.a.createElement(B.a,{icon:L.b})),n.a.createElement(S.a,{className:"mt-2",color:"danger",variant:"contained",onClick:function(t){window.confirm("Delete the item?")&&l.deleteRecord(e.id)}},n.a.createElement(B.a,{icon:L.g}))))}))},l.renderUpdateModal=function(){return n.a.createElement(A.a,{show:l.state.showUpdateModel,onHide:function(e){return l.setState({showUpdateModel:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Update bill")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{xs:12},n.a.createElement(T.a,{id:"pending",label:"Paid",variant:"outlined",className:"m-2",defaultValue:"",value:l.state.activePaid,onChange:function(e){return l.setState({activePaid:e.target.value})}})))),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(S.a,{style:{float:"right"},onClick:function(e){l.setState({showUpdateModel:!1}),l.handleUpdateSubmit(e)},variant:"contained",color:"primary"},"Update")))))},l.renderDisplayBillModal=function(){return n.a.createElement(A.a,{show:l.state.showDisplayBillModal,onHide:function(e){return l.setState({showDisplayBillModal:!1})},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Bill details")),n.a.createElement("div",{className:"mt-1 measure"},n.a.createElement(d.a,null,n.a.createElement(u.a,{className:"mx-auto"},n.a.createElement(h.a,{className:"p-0"},n.a.createElement(h.a.Header,null,n.a.createElement(h.a.Title,{className:"text-center pb-0 mb-0"},n.a.createElement("b",null,"MINISHO")),n.a.createElement("hr",null),n.a.createElement("p",{className:"text-center"},"Customer Care No. 77720031305, 06, 07",n.a.createElement("hr",null),"email ID: customer.care@minisho.com"),n.a.createElement("hr",null),n.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},n.a.createElement("p",null,"Invoice No."," ",n.a.createElement("b",null,l.state.activeBillId)),n.a.createElement("p",null,"Date"," ",n.a.createElement("b",null,ee()(l.state.date).format("D/M/YYYY")))),n.a.createElement(h.a.Title,{className:"text-center pb-0 mb-0"},n.a.createElement("h5",null,n.a.createElement("b",null,"TAX INVOICE")))),n.a.createElement(h.a.Body,{className:"pb-3 mb-0"},n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Party name:"," ",n.a.createElement("b",null,l.state.pname)))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Address:"," ",n.a.createElement("b",null,l.state.address))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Vehicle No.:"," ",n.a.createElement("b",null,l.state.vehicleNo)))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Aadhar Card No.:"," ",n.a.createElement("b",null,l.state.aadharCard))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Date:"," ",n.a.createElement("b",null,ee()(l.state.date).format("DD/MM/YYYY"))))),n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"GSTIN: ",n.a.createElement("b",null,l.state.gstin)),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Code: ",n.a.createElement("b",null,l.state.code))),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Sign:")))),n.a.createElement(h.a.Body,{className:"m-0 pt-0"},n.a.createElement(ve.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Particular"),n.a.createElement("th",null,"HSN Code"),n.a.createElement("th",null,"Box Qty."),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),l.state.itemsList.length>0?n.a.createElement("tbody",null,l.state.itemsList.map((function(e,t){return n.a.createElement("tr",{key:""+e.particular},n.a.createElement("td",null,e.particular," "),n.a.createElement("td",null,"2201"),n.a.createElement("td",null,e.boxQty),n.a.createElement("td",null,e.rate),n.a.createElement("td",null,e.amount))})),n.a.createElement("br",null),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Total amount"),n.a.createElement("td",{colSpan:"2"},l.state.total-l.state.adjustment)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Adjustment"),n.a.createElement("td",{colSpan:"2"},l.state.adjustment)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4"},"Grand Total"),n.a.createElement("td",{colSpan:"2"},l.state.total))):n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},"No items added"))))),n.a.createElement(h.a.Footer,{className:"pb-3 mb-0"},n.a.createElement(d.a,null,n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"GSTIN No.:"," ",n.a.createElement("b",null,"27AOLPK5202K1ZU")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Date: 28/06/2017"),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"State : Maharashtra Code: 27")),n.a.createElement(u.a,{md:6},n.a.createElement("h6",{style:{textTransform:"capitalize"}},"Bank A/c:"," ",n.a.createElement("b",null,"16153011000070 Bank of India")),n.a.createElement("h6",{style:{textTransform:"capitalize"}},"IFSC Code : BKID0001615"),n.a.createElement("h6",null,"Branch: Sangli")))))))))},l.state={billList:null,showUpdateModel:!1,activeBillId:null,activePaid:0,aadharCard:null,adjustment:0,balance:0,code:null,date:null,paid:0,partyId:null,pname:null,total:0,vehicleNo:null,itemsList:[],isLoadingItems:!1},l}return Object(b.a)(a,[{key:"deleteRecord",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE capDeliveryMemo SET status = 0  WHERE id=".concat(e,";")};Te.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("deleted status data: ",e.data),console.log("item deleted successfully"),U.b.success("Record deleted successfully"),t.fetchBillList()})).catch((function(e){console.log("record delete error: ",e)}))}},{key:"initializeDataTable",value:function(){var e="Non-GST bill history-"+ee()().format("DD/MM/YYYY");ae()(document).ready((function(){ae()("#billList").DataTable({destroy:!0,dom:"<'row mb-2'<'col-sm-9' B><'col-sm-3' >><'row mb-2'<'col-sm-9' l><'col-sm-3' f>><'row'<'col-sm-12' tr>><'row'<'col-sm-7 mt-2 mr-5 pr-4'i><'ml-5' p>>",buttons:[{extend:"csv",title:e,download:"open",exportOptions:{columns:[0,1,2,3,4,5,6]}},{extend:"print",title:e,messageTop:"<h4 style='text-align:center'>".concat(e,"</h4>"),download:"open",exportOptions:{columns:[0,1,2,3,4,5,6]}}]})}))}},{key:"initializeData",value:function(){this.fetchBillList()}},{key:"componentDidMount",value:function(){this.initializeData()}},{key:"handleUpdateSubmit",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:"UPDATE nonGstBill SET balance = balance - ".concat(this.state.activePaid,", paid = paid + ").concat(this.state.activePaid," WHERE id=").concat(this.state.activeBillId,";")};Te.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("Bill details updated successfully"),t.fetchBillList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(d.a,null,n.a.createElement(u.a,{md:"12",className:"m-0 p-1 measure1",style:{minHeight:"85vh"}},n.a.createElement("div",null,n.a.createElement("table",{id:"billList",class:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",{align:"center"},n.a.createElement("th",{align:"center"},"Bill Id"),n.a.createElement("th",{align:"center"},"Party Name"),n.a.createElement("th",{align:"center"},"Adjustment"),n.a.createElement("th",{align:"center"},"Total"),n.a.createElement("th",{align:"center"},"Paid"),n.a.createElement("th",{align:"center"},"Balance"),n.a.createElement("th",{align:"center"},"Date"),n.a.createElement("th",{align:"center"},"Actions"))),n.a.createElement("tbody",null,this.renderMemoList())),this.renderUpdateModal(),this.renderDisplayBillModal()))))}}]),a}(l.Component);var De=function(){var e=n.a.useState("1"),t=Object(o.a)(e,2),a=t[0],l=t[1];return n.a.createElement(I.a,{value:a,className:"container-fluid border m-0 p-0 main"},n.a.createElement(w.a,{position:"static",color:"default"},n.a.createElement(O.a,{onChange:function(e,t){l(t)},"aria-label":"simple tabs example",indicatorColor:"primary",textColor:"primary"},n.a.createElement(M.a,{label:"New Bill",value:"1"}),n.a.createElement(M.a,{label:"Bill (GST) History",value:"2"}),n.a.createElement(M.a,{label:"Bill (non GST) History",value:"3"}))),n.a.createElement(k.a,{value:"1",className:"container-fluid",style:{padding:"15px 18px 40px 10px"}},n.a.createElement(ge,null)),n.a.createElement(k.a,{value:"2",className:"container-fluid",style:{padding:"15px 18px 40px 10px"}},n.a.createElement(Se,null)),n.a.createElement(k.a,{value:"3",className:"container-fluid",style:{padding:"15px 18px 40px 10px"}},n.a.createElement(Pe,null)),n.a.createElement(U.a,{position:U.b.POSITION.TOP_RIGHT,autoClose:5e3}))},xe=(a(129),a(37)),Ce=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).state={partyId:l.props.partyId,particular:null,total:0,debit:0,credit:0,balance:0},l}return Object(b.a)(a,[{key:"getCurrentBalance",value:function(){var e=this,t={crossDomain:!0,crossOrigin:!0,query:"SELECT balance FROM ledger WHERE party_id=".concat(this.state.partyId," ORDER BY id DESC LIMIT 1 ")};xe.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("ledger balance: ",t.data[0].balance),e.setState({balance:t.data[0].balance}),console.log("ledger balance fetched successfully")})).catch((function(e){console.log(e)}))}},{key:"handleAddSubmit",value:function(e){var t=this;e.preventDefault();this.state.balance=this.state.credit-this.state.debit+this.state.balance;var a={crossDomain:!0,crossOrigin:!0,query:"INSERT INTO ledger(party_id, particular, debit, credit, balance) VALUES(".concat(this.state.partyId,", '").concat(this.state.particular,"', ").concat(this.state.debit,", ").concat(this.state.credit,", ").concat(this.state.balance,");")};xe.post("http://localhost:5000/executeQuery/",a).then((function(e){console.log("ledger record added successfully"),U.b.success("ledger record added successfully"),t.props.refreshLedger()})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getCurrentBalance()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row"},n.a.createElement("form",{autoComplete:"off"},n.a.createElement("div",{className:"row ml-4 mt-4"},n.a.createElement(T.a,{id:"particular",label:"particular",variant:"outlined",type:"text",className:"mr-2",required:!0,size:"small",onChange:function(t){return e.setState({particular:t.target.value})}}),n.a.createElement(T.a,{id:"debit",label:"debit",variant:"outlined",type:"number",className:"mr-2",size:"small",onChange:function(t){return e.setState({debit:t.target.value})}}),n.a.createElement(T.a,{id:"credit",label:"credit",variant:"outlined",className:"mr-2",type:"number",size:"small",onChange:function(t){return e.setState({credit:t.target.value})}}),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"",onClick:function(t){return e.handleAddSubmit(t)}},n.a.createElement(B.a,{icon:L.e,size:"2x"})),n.a.createElement(S.a,{color:"primary",variant:"contained",className:"ml-5",onClick:this.props.refreshLedger},n.a.createElement(B.a,{icon:L.f,size:"2x"})))),n.a.createElement(U.a,null))}}]),a}(l.Component),we=a(37),Me=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var l;return Object(f.a)(this,a),(l=t.call(this,e)).fetchLedgerData=function(){if(!l.state.partyId)return null;var e={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM ledger WHERE party_id=".concat(l.state.partyId,";")};we.post("http://localhost:5000/executeQuery/",e).then((function(e){console.log("ledger data: ",e.data),l.setState({LedgerData:e.data}),l.initializeDataTable()})).catch((function(e){console.log("ledger data fetch error: ",e)}))},l.renderPartyData=function(){var e=l.state.partyData;return!e||e.length<1?null:n.a.createElement("div",{className:"mb-2"},n.a.createElement("h5",{className:"float-left mt-2"},e[0].id," | ",n.a.createElement("b",null,e[0].name)),n.a.createElement(S.a,{color:"primary",variant:"outlined",className:"float-right pb-0"},n.a.createElement("h5",null,"Total balance:\xa0 \xa0",n.a.createElement("b",null,l.state.totalBalance))))},l.renderLedgerData=function(){if(null==l.state.LedgerData)return null;var e=l.state.LedgerData,t=null,a=0;return e.map((function(e){return t=ee()(e.last_modified).format("D / MM / YYYY HH:MM"),a=a+e.total+e.debit-e.credit,n.a.createElement("tr",null,n.a.createElement("td",{align:"center"},n.a.createElement(p.a,{variant:"primary"},e.id)," "),n.a.createElement("td",{align:"center"},e.particular),n.a.createElement("td",null,e.total),n.a.createElement("td",null,e.debit),n.a.createElement("td",null,e.credit),n.a.createElement("td",null,a),n.a.createElement("td",null,t),n.a.createElement("td",{align:"center"},n.a.createElement(S.a,{color:"primary",variant:"contained",onClick:function(t){l.setState({activeRecordId:e.id,activeParticular:e.particular,activeDebit:e.debit,activeCredit:e.credit,activeBalance:a}),l.setState({showUpdateModel:!0})}},n.a.createElement(B.a,{icon:L.d})),n.a.createElement(A.a,{show:l.state.showUpdateModel,onHide:function(e){return l.setState({showUpdateModel:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(A.a.Header,{closeButton:!0},n.a.createElement(A.a.Title,{id:"contained-modal-title-vcenter"},"Update record")),n.a.createElement(A.a.Body,null,n.a.createElement("form",{noValidate:!0,autoComplete:"off"},n.a.createElement("div",{className:"mt-3"},n.a.createElement(d.a,null,n.a.createElement(u.a,{xs:12},n.a.createElement(T.a,{id:"Particular",label:"Particular",variant:"outlined",className:"m-2",defaultValue:l.state.activeParticular,onChange:function(e){return l.setState({activeParticular:e.target.value})}}))),n.a.createElement(d.a,null,n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"debit",label:"Debit",variant:"outlined",className:"m-2",defaultValue:l.state.activeDebit,onChange:function(e){return l.setState({activeDebit:e.target.value})}})),n.a.createElement(u.a,null,n.a.createElement(T.a,{id:"credit",label:"Credit",variant:"outlined",className:"m-2",defaultValue:l.state.activeCredit,onChange:function(e){return l.setState({activeCredit:e.target.value})}})))),n.a.createElement("div",{className:"mt-2 mr-1"},n.a.createElement(y.a,{style:{float:"right"},onClick:function(e){l.setState({showUpdateModel:!1}),l.handleUpdateSubmit(e)}},"Update")))))))}))},l.state={partyId:l.props.match.params.partyId,showAddModal:!1,showUpdateModel:!1,activeRecordId:null,activePartyId:null,activeParticular:null,activeDebit:null,activeCredit:null,activeBalance:null,partyData:null,LedgerData:null,totalBalance:0},l}return Object(b.a)(a,[{key:"fetchBalance",value:function(){var e=this;if(!this.state.partyId)return null;var t={crossDomain:!0,crossOrigin:!0,query:"SELECT (SUM(total) + SUM(debit) - SUM(credit)) as balance FROM ledger where party_id=".concat(this.state.partyId,";")};we.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("party balance: ",t.data[0].balance),e.setState({totalBalance:t.data[0].balance})})).catch((function(e){console.log("party data fetch error: ",e)}))}},{key:"fetchPartyData",value:function(){var e=this;if(!this.state.partyId)return null;var t={crossDomain:!0,crossOrigin:!0,query:"SELECT * FROM party WHERE id=".concat(this.state.partyId,";")};we.post("http://localhost:5000/executeQuery/",t).then((function(t){console.log("party data: ",t.data),e.setState({partyData:t.data})})).catch((function(e){console.log("party data fetch error: ",e)}))}},{key:"handleUpdateSubmit",value:function(e){var t=this,a={crossDomain:!0,crossOrigin:!0,query:'UPDATE ledger SET particular="'.concat(this.state.activeParticular,'", debit="').concat(this.state.activeDebit,'", credit="').concat(this.state.activeCredit,'", balance="').concat(this.state.activeBalance,'" WHERE id=').concat(this.state.activeRecordId,";")};we.post("http://localhost:5000/executeQuery/",a).then((function(e){U.b.success("ledger details updated successfully"),t.fetchLedgerData()})).catch((function(e){console.log(e)}))}},{key:"refreshLedger",value:function(){window.location.reload(!1)}},{key:"componentDidMount",value:function(){this.fetchPartyData(),this.fetchLedgerData(),this.fetchBalance()}},{key:"initializeDataTable",value:function(){ae()("#ledger_table").DataTable({destroy:!0})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container-fluid border m-0 p-1"},this.renderPartyData(),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement("div",{class:"btn-group mb-3",role:"group","aria-label":"Basic example"},n.a.createElement(Ce,{partyId:this.state.partyId,refreshLedger:function(){return e.refreshLedger()},totalBalance:this.state.totalBalance})),n.a.createElement(d.a,{className:"ml-0 mr-0"},n.a.createElement(u.a,{md:"12",className:"p-0 m-0 measure1"},n.a.createElement(re.a,{component:X.a,style:{maxHeight:"79vh"}},n.a.createElement("table",{id:"ledger_table",class:"display",style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{align:"center"},"ID"),n.a.createElement("th",{align:"center"},"Particular"),n.a.createElement("th",null,"total"),n.a.createElement("th",null,"debit"),n.a.createElement("th",{align:"center"},"credit"),n.a.createElement("th",null,"balance"),n.a.createElement("th",null,"last modified"),n.a.createElement("th",{align:"center"},"Options"))),n.a.createElement(ce.a,null,this.renderLedgerData()))))))}}]),a}(l.Component);var Ie=function(e){var t=Object(l.useState)(e.location.state),a=Object(o.a)(t,2),r=(a[0],a[1]);return n.a.createElement(i.b,null,n.a.createElement(m.a,{bg:"dark",expand:"lg"},n.a.createElement(m.a.Brand,{id:"title",href:"#home"},"Inventory Management | Admin Panel")),n.a.createElement("div",{className:"container-fluid m-0 p-0"},n.a.createElement(d.a,{className:"m-0 p-0"},n.a.createElement(u.a,{className:"col-sm-2 mt-1 pl-1 pr-1"},n.a.createElement(v,{user:"user1",logout:function(){r(null)}})),n.a.createElement(u.a,{className:"col-sm-10 mt-1 p-0"},n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:"/mainDashboard",component:De}),n.a.createElement(s.b,{path:"/partyManager",exact:!0,component:K}),n.a.createElement(s.b,{path:"/productManager",exact:!0,component:me}),n.a.createElement(s.b,{path:"/expenseManager",exact:!0,component:ne}),n.a.createElement(s.b,{path:"/ledgerManager/:partyId",exact:!0,component:Me}))))))},Oe=Object(l.createContext)(),ke=function(e){var t=Object(l.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1];return n.a.createElement(Oe.Provider,{value:[r,c]},e.children)};var Ae=function(){return n.a.createElement(ke,null,n.a.createElement(i.a,null,n.a.createElement("div",{className:"container-fluid m-0 p-0"},n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/mainDashboard",exact:!0,component:Ie}),n.a.createElement(s.b,{path:"/",component:Ie})))))},Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Ae,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/D:/5tg_college_inventory/build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/D:/5tg_college_inventory/build","/service-worker.js");Be?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var l=a.headers.get("content-type");404===a.status||null!=l&&-1===l.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Le(t,e)}))}}()},81:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.0f2aa82f.chunk.js.map